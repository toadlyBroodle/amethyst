{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "Setup Android Debug",
            "type": "shell",
            "command": "export JAVA_HOME=/usr/lib/jvm/java-17-openjdk-amd64 && bash -c 'PID=$(adb shell pidof com.vitorpamplona.amethyst.debug) && if [ -z \"$PID\" ]; then adb shell am start -D -n com.vitorpamplona.amethyst.debug/com.vitorpamplona.amethyst.ui.MainActivity && sleep 2 && PID=$(adb shell pidof com.vitorpamplona.amethyst.debug); fi && echo \"Found PID: $PID\" && adb forward tcp:8700 jdwp:$PID'",
            "group": "none",
            "presentation": {
                "reveal": "always",
                "panel": "shared"
            },
            "problemMatcher": []
        },
        {
            "label": "Install and Debug Amethyst",
            "type": "shell",
            "command": "cd ${workspaceFolder} && export JAVA_HOME=/usr/lib/jvm/java-17-openjdk-amd64 && ./gradlew installFdroidDebug && adb shell am start -D -n com.vitorpamplona.amethyst.debug/com.vitorpamplona.amethyst.ui.MainActivity && sleep 2 && PID=$(adb shell pidof com.vitorpamplona.amethyst.debug) && echo \"Found PID: $PID\" && adb forward tcp:8700 jdwp:$PID",
            "group": "build",
            "presentation": {
                "reveal": "always",
                "panel": "shared"
            },
            "problemMatcher": []
        }
    ]
} 